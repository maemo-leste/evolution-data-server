<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Camel Reference Manual: camel-memchunk</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Camel Reference Manual">
<link rel="up" href="Utilities.html" title="Utilities">
<link rel="prev" href="camel-camel-lock-client.html" title="camel-lock-client">
<link rel="next" href="camel-camel-mempool.html" title="camel-mempool">
<meta name="generator" content="GTK-Doc V1.21 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts">
<a href="#" class="shortcut">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a href="#camel-camel-memchunk.description" class="shortcut">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="Utilities.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="camel-camel-lock-client.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="camel-camel-mempool.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry">
<a name="camel-camel-memchunk"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="camel-camel-memchunk.top_of_page"></a>camel-memchunk</span></h2>
<p>camel-memchunk</p>
</td>
<td class="gallery_image" valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1">
<a name="camel-camel-memchunk.functions"></a><h2>Functions</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="functions_return">
<col class="functions_name">
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="returnvalue">CamelMemChunk</span></a> *
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-new" title="camel_memchunk_new ()">camel_memchunk_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a>
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-alloc" title="camel_memchunk_alloc ()">camel_memchunk_alloc</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a>
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-alloc0" title="camel_memchunk_alloc0 ()">camel_memchunk_alloc0</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-free" title="camel_memchunk_free ()">camel_memchunk_free</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-empty" title="camel_memchunk_empty ()">camel_memchunk_empty</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-clean" title="camel_memchunk_clean ()">camel_memchunk_clean</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-destroy" title="camel_memchunk_destroy ()">camel_memchunk_destroy</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="camel-camel-memchunk.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="name">
<col class="description">
</colgroup>
<tbody><tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk">CamelMemChunk</a></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="camel-camel-memchunk.description"></a><h2>Description</h2>
</div>
<div class="refsect1">
<a name="camel-camel-memchunk.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="camel-memchunk-new"></a><h3>camel_memchunk_new ()</h3>
<pre class="programlisting"><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="returnvalue">CamelMemChunk</span></a> *
camel_memchunk_new (<em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> atomcount</code></em>,
                    <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> atomsize</code></em>);</pre>
<p>Create a new <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> header.  Memchunks are an efficient way to
allocate and deallocate identical sized blocks of memory quickly, and
space efficiently.</p>
<p>camel_memchunks are effectively the same as gmemchunks, only faster (much),
and they use less memory overhead for housekeeping.</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.2.6"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>atomcount</p></td>
<td class="parameter_description"><p>the number of atoms stored in a single malloc'd block of memory</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>atomsize</p></td>
<td class="parameter_description"><p>the size of each allocation</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.13.8.6.2.7"></a><h4>Returns</h4>
<p> a new <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p>
<p></p>
</div>
<p class="since">Since 3.4</p>
</div>
<hr>
<div class="refsect2">
<a name="camel-memchunk-alloc"></a><h3>camel_memchunk_alloc ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a>
camel_memchunk_alloc (<em class="parameter"><code><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> *memchunk</code></em>);</pre>
<p>Allocate a new atom size block of memory from an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a>.
Free the returned atom with <a class="link" href="camel-camel-memchunk.html#camel-memchunk-free" title="camel_memchunk_free ()"><code class="function">camel_memchunk_free()</code></a>.</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.3.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>memchunk</p></td>
<td class="parameter_description"><p>an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.13.8.6.3.6"></a><h4>Returns</h4>
<p> an allocated block of memory</p>
<p></p>
</div>
<p class="since">Since 3.4</p>
</div>
<hr>
<div class="refsect2">
<a name="camel-memchunk-alloc0"></a><h3>camel_memchunk_alloc0 ()</h3>
<pre class="programlisting"><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="returnvalue">gpointer</span></a>
camel_memchunk_alloc0 (<em class="parameter"><code><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> *memchunk</code></em>);</pre>
<p>Allocate a new atom size block of memory from an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a>,
and fill the memory with zeros.  Free the returned atom with
<a class="link" href="camel-camel-memchunk.html#camel-memchunk-free" title="camel_memchunk_free ()"><code class="function">camel_memchunk_free()</code></a>.</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.4.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>memchunk</p></td>
<td class="parameter_description"><p>an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.13.8.6.4.6"></a><h4>Returns</h4>
<p> an allocated block of memory</p>
<p></p>
</div>
<p class="since">Since 3.4</p>
</div>
<hr>
<div class="refsect2">
<a name="camel-memchunk-free"></a><h3>camel_memchunk_free ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
camel_memchunk_free (<em class="parameter"><code><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> *memchunk</code></em>,
                     <em class="parameter"><code><a href="https://developer.gnome.org/glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a> mem</code></em>);</pre>
<p>Free a single atom back to the free pool of atoms in the given
memchunk.</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.5.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>memchunk</p></td>
<td class="parameter_description"><p>an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>mem</p></td>
<td class="parameter_description"><p>address of atom to free</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since 3.4</p>
</div>
<hr>
<div class="refsect2">
<a name="camel-memchunk-empty"></a><h3>camel_memchunk_empty ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
camel_memchunk_empty (<em class="parameter"><code><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> *memchunk</code></em>);</pre>
<p>Clean out the memchunk buffers.  Marks all allocated memory as free blocks,
but does not give it back to the system.  Can be used if the memchunk
is to be used repeatedly.</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.6.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>memchunk</p></td>
<td class="parameter_description"><p>an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since 3.4</p>
</div>
<hr>
<div class="refsect2">
<a name="camel-memchunk-clean"></a><h3>camel_memchunk_clean ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
camel_memchunk_clean (<em class="parameter"><code><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> *memchunk</code></em>);</pre>
<p>Scan all empty blocks and check for blocks which can be free'd
back to the system.</p>
<p>This routine may take a while to run if there are many allocated
memory blocks (if the total number of allocations is many times
greater than atomcount).</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.7.6"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>memchunk</p></td>
<td class="parameter_description"><p>an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since 3.4</p>
</div>
<hr>
<div class="refsect2">
<a name="camel-memchunk-destroy"></a><h3>camel_memchunk_destroy ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
camel_memchunk_destroy (<em class="parameter"><code><a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a> *memchunk</code></em>);</pre>
<p>Free the memchunk header, and all associated memory.</p>
<div class="refsect3">
<a name="id-1.2.13.8.6.8.5"></a><h4>Parameters</h4>
<div class="informaltable"><table width="100%" border="0">
<colgroup>
<col width="150px" class="parameters_name">
<col class="parameters_description">
<col width="200px" class="parameters_annotations">
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>memchunk</p></td>
<td class="parameter_description"><p>an <a class="link" href="camel-camel-memchunk.html#CamelMemChunk" title="CamelMemChunk"><span class="type">CamelMemChunk</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<p class="since">Since 3.4</p>
</div>
</div>
<div class="refsect1">
<a name="camel-camel-memchunk.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="CamelMemChunk"></a><h3>CamelMemChunk</h3>
<pre class="programlisting">typedef struct _CamelMemChunk CamelMemChunk;</pre>
<p class="since">Since 3.4</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.21</div>
</body>
</html>