commit 134b84ec3a0560239647b2098f366585d1ed8bbd
Author: Claudio Saavedra <csaavedra@igalia.com>
Date:   Tue Apr 27 13:05:30 2010 +0200

    Bug #616318 - Don't use an unitialized key in folder_changed_remove_uid
    
    If g_hash_table_lookup_extended() returns FALSE, then the oldkey
    is unset, so don't use it to insert a new item in the hash table.

diff --git a/camel/camel-vee-folder.c b/camel/camel-vee-folder.c
index 6647c17..132821d 100644
--- a/camel/camel-vee-folder.c
+++ b/camel/camel-vee-folder.c
@@ -1412,7 +1412,7 @@ folder_changed_remove_uid(CamelFolder *sub, const gchar *uid, const gchar hash[8
 				}
 			} else {
 				if (vee_folder_add_uid_test (folder_unmatched, sub, uid, hash))
-					camel_folder_change_info_add_uid(folder_unmatched->changes, oldkey);
+					camel_folder_change_info_add_uid(folder_unmatched->changes, vuid);
 			}
 		} else {
 			if (g_hash_table_lookup_extended(unmatched_uids, vuid, (gpointer *)&oldkey, &oldval)) {
